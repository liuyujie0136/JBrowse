!function(){var e={47762:function(e,t,n){"use strict";n.r(t),n.d(t,{Attributes:function(){return D},BaseAttributes:function(){return q},BaseCard:function(){return I},BaseCoreDetails:function(){return B},BasicValue:function(){return z},FeatureDetails:function(){return H},FieldName:function(){return R},SimpleValue:function(){return O},useStyles:function(){return P}});var r=n(59740),i=n(33028),o=n(68079),a=n(96234),u=n(30969),s=n(51921),c=n(22714),l=n(31273),d=n(76647),f=n(80975),p=n(81254),h=n(317),v=n(89001),m=n(5088),g=n(22099),y=n(90550),b=n(81856),x=n(38184),w=n.n(x),Z=n(9077),k=n(81073),j=n(36174),C=n(92407),T=n(76737),S=n(37574),M=["id"],E=["length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"],A=["name","start","end","strand","refName","description","type"],P=(0,c.Z)((function(e){return{expansionPanelDetails:{display:"block",padding:e.spacing(1)},expandIcon:{color:"#FFFFFF"},field:{display:"flex",flexWrap:"wrap"},fieldDescription:{"&:hover":{background:"yellow"}},fieldName:{wordBreak:"break-all",minWidth:"90px",borderBottom:"1px solid #0003",background:e.palette.grey[200],marginRight:e.spacing(1),padding:e.spacing(.5)},fieldValue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),overflow:"auto"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),background:e.palette.grey[100],border:"1px solid ".concat(e.palette.grey[300]),boxSizing:"border-box",overflow:"auto"}}}));function I(e){var t=e.children,n=e.title,r=e.defaultExpanded,i=void 0===r||r,o=P(),s=(0,u.useState)(i),c=(0,a.Z)(s,2),h=c[0],v=c[1];return(0,S.jsxs)(l.Z,{expanded:h,onChange:function(){return v((function(e){return!e}))},TransitionProps:{unmountOnExit:!0},children:[(0,S.jsx)(d.Z,{expandIcon:(0,S.jsx)(m.Z,{className:o.expandIcon}),children:(0,S.jsxs)(f.Z,{variant:"button",children:[" ",n]})}),(0,S.jsx)(p.Z,{className:o.expansionPanelDetails,children:t})]})}var R=function(e){var t=e.description,n=e.name,r=e.prefix,i=void 0===r?[]:r,a=e.width,u=P(),s=[].concat((0,o.Z)(i),[n]).join(".");return t?(0,S.jsx)(h.ZP,{title:t,placement:"left",children:(0,S.jsx)("div",{className:(0,b.Z)(u.fieldDescription,u.fieldName),children:s})}):(0,S.jsx)("div",{className:u.fieldName,style:{width:a},children:s})},z=function(e){var t=e.value,n=P();return(0,S.jsx)("div",{className:n.fieldValue,children:u.isValidElement(t)?t:(0,S.jsx)(j.Z,{html:w()(t)?JSON.stringify(t):String(t)})})},O=function(e){var t=e.name,n=e.value,r=e.description,i=e.prefix,o=e.width,a=P();return null!==n&&void 0!==n?(0,S.jsxs)("div",{className:a.field,children:[(0,S.jsx)(R,{prefix:i,description:r,name:t,width:o}),(0,S.jsx)(z,{value:n})]}):null},N=function(e){var t=e.name,n=e.value,r=e.description,i=e.prefix,a=void 0===i?[]:i,u=P();return(0,S.jsx)(S.Fragment,{children:1===n.length?w()(n[0])?(0,S.jsx)(D,{attributes:n[0],prefix:[].concat((0,o.Z)(a),[t])}):(0,S.jsxs)("div",{className:u.field,children:[(0,S.jsx)(R,{prefix:a,description:r,name:t}),(0,S.jsx)(z,{value:n[0]})]}):n.every((function(e){return w()(e)}))?n.map((function(e,n){return(0,S.jsx)(D,{attributes:e,prefix:[].concat((0,o.Z)(a),[t+"-"+n])},JSON.stringify(e)+"-"+n)})):(0,S.jsxs)("div",{className:u.field,children:[(0,S.jsx)(R,{prefix:a,description:r,name:t}),n.map((function(e,t){return(0,S.jsx)("div",{className:u.fieldSubvalue,children:(0,S.jsx)(z,{value:e})},JSON.stringify(e)+"-"+t)}))]})})};function F(e){var t=e.feature,n=t,r=n.refName,o=n.start,u=n.end,s=n.strand,c={"-1":"-",0:"",1:"+"},l=c[s]?"(".concat(c[s],")"):"",d=(o+1).toLocaleString("en-US"),f=u.toLocaleString("en-US"),p=r?"".concat(r,":"):"",h=(0,i.Z)((0,i.Z)({},t),{},{length:(u-o).toLocaleString("en-US"),position:"".concat(p).concat(d,"..").concat(f," ").concat(l)});return(0,S.jsx)(S.Fragment,{children:["Position","Description","Name","Length","Type"].map((function(e){return[e,h[e.toLowerCase()]]})).filter((function(e){var t=(0,a.Z)(e,2)[1];return null!==t&&void 0!==t})).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,S.jsx)(O,{name:n,value:r},n)}))})}var B=function(e){return(0,S.jsx)(I,(0,i.Z)((0,i.Z)({},e),{},{title:"Primary data",children:(0,S.jsx)(F,(0,i.Z)({},e))}))},L=function(e){var t=e.value,n=e.prefix,u=e.name,s=Object.keys(t[0]).sort(),c=new Set(s);if(t.forEach((function(e){return Object.keys(e).forEach((function(e){return c.add(e)}))})),c.size<s.length+5){var l,d=Object.entries(t).map((function(e){var t=(0,a.Z)(e,2),n=t[0],o=t[1],u=o.id,s=(0,r.Z)(o,M);return(0,i.Z)({id:n,identifier:u},s)}));c.has("id")?(c.delete("id"),l=["identifier"].concat((0,o.Z)(c))):l=(0,o.Z)(c);var f=l.map((function(e){return{field:e,width:Math.max.apply(Math,(0,o.Z)(d.map((function(t){var n=String(t[e]);return Math.min(Math.max((0,k.measureText)(n,14)+50,80),1e3)}))))}}));return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R,{prefix:n,name:u}),(0,S.jsx)("div",{style:{height:20*Math.min(d.length,100)+50+(d.length<100?0:50),width:"100%"},children:(0,S.jsx)(g.DataGrid,{disableSelectionOnClick:!0,rowHeight:20,headerHeight:25,rows:d,rowsPerPageOptions:[],hideFooterRowCount:!0,hideFooterSelectedRowCount:!0,columns:f,hideFooter:d.length<100})})]})}return null};var D=function e(t){var n=t.attributes,r=t.omit,i=void 0===r?[]:r,u=t.descriptions,s=t.formatter,c=void 0===s?function(e){return e}:s,l=t.prefix,d=void 0===l?[]:l,f=[].concat((0,o.Z)(i),E),p=function(e,t){var n=[];return e.forEach((function(e,r){var i=[].concat((0,o.Z)(t),[e[0]]).join(".");n.push((0,k.measureText)(i,12))})),Math.ceil(Math.max.apply(Math,n))+10}(Object.entries(n).filter((function(e){var t=(0,a.Z)(e,2),n=t[0];return void 0!==t[1]&&!f.includes(n)})),d),h=p<=170?p:170;return(0,S.jsx)(S.Fragment,{children:Object.entries(n).filter((function(e){var t=(0,a.Z)(e,2),n=t[0];return void 0!==t[1]&&!f.includes(n)})).map((function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];if(Array.isArray(i)&&i.length>2&&i.every((function(e){return w()(e)})))return(0,S.jsx)(L,{prefix:d,name:r,value:i},r);var s=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.forEach((function(e){n&&(n=n[e])})),"string"===typeof n?n:"string"===typeof(null===(t=n)||void 0===t?void 0:t.Description)?n.Description:void 0}([].concat((0,o.Z)(d),[r]),u);return Array.isArray(i)?(0,S.jsx)(N,{name:r,value:i,description:s,prefix:d},r):w()(i)?(0,S.jsx)(e,{omit:f,attributes:i,descriptions:u,prefix:[].concat((0,o.Z)(d),[r])},r):(0,S.jsx)(O,{name:r,value:c(i,r),description:s,prefix:d,width:h},r)}))})},q=function(e){var t=e.feature;return(0,S.jsx)(I,(0,i.Z)((0,i.Z)({},e),{},{title:"Attributes",children:(0,S.jsx)(D,(0,i.Z)((0,i.Z)({},e),{},{attributes:t}))}))};var H=function e(t){var n=t.omit,r=void 0===n?[]:n,a=t.model,u=t.feature,c=t.depth,l=void 0===c?0:c,d=u.name,p=void 0===d?"":d,h=u.id,m=void 0===h?"":h,g=u.type,y=void 0===g?"":g,b=u.subfeatures,x=(0,k.getSession)(a),w=(0,Z.getConf)(x,["featureDetails","sequenceTypes"])||["mRNA","transcript"];return(0,S.jsxs)(I,{title:[(0,T.Cn)(p||m),y].filter((function(e){return!!e})).join(" - "),children:[(0,S.jsx)(f.Z,{children:"Core details"}),(0,S.jsx)(F,(0,i.Z)({},t)),(0,S.jsx)(v.Z,{}),(0,S.jsx)(f.Z,{children:"Attributes"}),(0,S.jsx)(D,(0,i.Z)((0,i.Z)({attributes:u},t),{},{omit:[].concat((0,o.Z)(r),A)})),w.includes(u.type)?(0,S.jsx)(s.ErrorBoundary,{FallbackComponent:function(e){var t=e.error;return(0,S.jsxs)(f.Z,{color:"error",children:["Failed to fetch sequence for feature: ","".concat(t)]})},children:(0,S.jsx)(C.Z,(0,i.Z)({},t))}):null,null!==b&&void 0!==b&&b.length?(0,S.jsx)(I,{title:"Subfeatures",defaultExpanded:!w.includes(u.type),children:b.map((function(t){return(0,S.jsx)(e,{feature:t,model:a,depth:l+1},JSON.stringify(t))}))}):null]})},J=(0,y.observer)((function(e){var t=e.model,n=t.featureData;if(!n)return null;var r,i=JSON.parse(JSON.stringify(n));return r=i,0===Object.keys(r).length?null:(0,S.jsx)(H,{model:t,feature:i})}));t.default=J},94943:function(e,t,n){"use strict";n.d(t,{ie:function(){return o},k$:function(){return r},pm:function(){return u}});new WeakMap;function r(e){return"object"===typeof e&&null!==e&&"abortSignalId"in e&&"number"===typeof e.abortSignalId}var i=new Map;function o(e){var t=e.abortSignalId,n=i.get(t);return n||(n=new AbortController,i.set(t,n)),n.signal}function a(e){var t=e.signalId,n=i.get(t);n&&n.abort()}function u(){return{signalAbort:a}}},84291:function(e,t,n){"use strict";var r=n(96234),i=n(30969),o=n(90550),a=n(9077),u=n(22714),s=n(7690),c=n(1720),l=n(37574),d=(0,u.Z)((function(){return{importFormEntry:{minWidth:180}}}));var f=(0,o.observer)((function(e){var t=e.session,n=e.onChange,o=e.selected,u=e.InputProps,f=e.extra,p=void 0===f?0:f,h=d(),v=t.assemblyNames,m=t.assemblyManager,g=new URLSearchParams(window.location.search).get("config"),y=function(e,t){var n=(0,i.useState)((function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(k){return console.error(k),t}})),o=(0,r.Z)(n,2),a=o[0],u=o[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;u(n),"undefined"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(n))}catch(k){console.error(k)}}]}("lastAssembly-".concat([window.location.host+window.location.pathname,g,p].join("-")),o),b=(0,r.Z)(y,2),x=b[0],w=b[1],Z=v.includes(x||"")?x:o;(0,i.useEffect)((function(){Z&&Z!==o&&n(Z)}),[Z,n,o]);var k=v.length?"":"No configured assemblies";return(0,l.jsx)(s.Z,{select:!0,label:"Assembly",variant:"outlined",helperText:k||"Select assembly to view",value:k?"":Z,inputProps:{"data-testid":"assembly-selector"},onChange:function(e){return w(e.target.value)},error:!!k,InputProps:u,disabled:!!k,className:h.importFormEntry,children:v.map((function(e){var t=m.get(e),n=t?(0,a.getConf)(t,"displayName"):"";return(0,l.jsx)(c.Z,{value:e,children:n||e},e)}))})}));t.Z=f},78033:function(e,t,n){"use strict";var r=n(33028),i=n(96234),o=n(59740),a=n(57110),u=n(80975),s=n(22714),c=n(38827),l=n(30969),d=n(37574),f=["value","setValue","variant"],p=(0,s.Z)((function(e){return{input:{},inputBase:{},typography:{top:6,left:2,position:"absolute",whiteSpace:"nowrap",visibility:"hidden"},inputRoot:{padding:e.spacing(.5)},inputFocused:{borderStyle:"solid",borderRadius:e.shape.borderRadius,borderWidth:2}}})),h=l.forwardRef((function(e,t){var n=e.value,s=e.setValue,h=e.variant,v=(0,o.Z)(e,f),m=(0,l.useState)(),g=(0,i.Z)(m,2),y=g[0],b=g[1],x=(0,l.useState)(0),w=(0,i.Z)(x,2),Z=w[0],k=w[1],j=(0,l.useState)(null),C=(0,i.Z)(j,2),T=C[0],S=C[1],M=(0,l.useState)(null),E=(0,i.Z)(M,2),A=E[0],P=E[1],I=(0,l.useState)(!1),R=(0,i.Z)(I,2),z=R[0],O=R[1];(0,l.useEffect)((function(){z&&(A&&A.blur(),O(!1))}),[z,A]);var N=p(e),F=(0,c.Z)(),B=T&&T.clientWidth;B&&B!==Z&&k(B);return(0,d.jsxs)("div",(0,r.Z)((0,r.Z)({},v),{},{ref:t,children:[(0,d.jsx)("div",{style:{position:"relative"},children:(0,d.jsx)(u.Z,{ref:function(e){S(e)},component:"span",variant:h,className:N.typography,children:void 0===y?n:y})}),(0,d.jsx)(a.Z,{inputRef:function(e){P(e)},className:N.inputBase,inputProps:{style:(0,r.Z)({width:Z},h&&"inherit"!==h&&"srOnly"!==h?F.typography[h]:{})},classes:{input:N.input,root:N.inputRoot,focused:N.inputFocused},value:void 0===y?n:y,onChange:function(e){b(e.target.value)},onKeyDown:function(e){"Enter"===e.key?A&&A.blur():"Escape"===e.key&&(b(void 0),O(!0))},onBlur:function(){y&&y!==n&&s(y),b(void 0)}})]}))}));t.Z=h},16383:function(e,t,n){"use strict";n(30969);var r=n(22714),i=n(37574),o=(0,r.Z)((function(e){return{message:{border:"1px solid black",background:"#f88",overflow:"auto",maxHeight:200,margin:e.spacing(1),padding:e.spacing(1)},errorBox:{background:"lightgrey",border:"1px solid black",margin:20}}}));t.default=function(e){var t=e.error,n=o(),r="",a="".concat(t),u="is not assignable",s=a.indexOf(u);if(-1!==s){var c=a.slice(0,s+u.length),l=c.match(/.*at path "(.*)" snapshot `(.*)` is not assignable/m);l&&(a="Failed to load element at ".concat(l[1],"...Failed element had snapshot"),r=l[2]);var d=c.match(/.*snapshot `(.*)` is not assignable/);d&&(a="Failed to load element...Failed element had snapshot",r=d[1])}return(0,i.jsxs)("div",{className:n.message,children:[a.slice(0,1e4),r?(0,i.jsx)("pre",{className:n.errorBox,children:JSON.stringify(JSON.parse(r),null,2)}):null]})}},88896:function(e,t,n){"use strict";var r=n(28599),i=n(83483),o=n(64501),a=n(93138),u=n(54249),s=n(53033),c=(n(30969),n(37574));t.Z=function(e){var t=e.onClose,n=e.open,l=e.onFactoryReset;function d(e){"reset"===e&&l(),t()}return(0,c.jsxs)(i.Z,{open:n,onClose:function(){return d()},children:[(0,c.jsx)(o.Z,{id:"alert-dialog-title",children:"Reset"}),(0,c.jsx)(a.Z,{children:(0,c.jsx)(u.Z,{id:"alert-dialog-description",children:"Are you sure you want to reset? This will restore the default configuration."})}),(0,c.jsxs)(s.Z,{children:[(0,c.jsx)(r.Z,{onClick:function(){return d()},color:"primary",children:"Cancel"}),(0,c.jsx)(r.Z,{onClick:function(){return d("reset")},color:"primary",variant:"contained",children:"OK"})]})]})}},98553:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(68079),i=n(96234),o=n(33028),a=n(59740),u=n(30969),s=n(317),c=n(27710),l=n(57071),d=n(11112),f=n(1720),p=n(98302),h=n(38601),v=n(83230),m=n(90550),g=n(8438),y=n(58459),b=n(84537),x=n(14808),w=n(37574),Z=["title","children"];function k(e){var t=e.title,n=e.children,r=(0,a.Z)(e,Z);return(0,w.jsx)(s.ZP,{title:t||"",children:(0,w.jsx)(h.Z,(0,o.Z)((0,o.Z)({},r),{},{children:n}))})}function j(e,t){return"string"===typeof e&&e.length>t?"".concat(e.substring(0,t),"\u2026"):e}var C=(0,m.observer)((function(e){var t=e.location,n=e.name,a=e.description,s=e.rootModel,m=e.setLocation,Z=!t||(0,g.hb)(t)?"url":"file",C=(0,u.useState)(t&&"internetAccountId"in t&&t.internetAccountId?t.internetAccountId:Z),T=(0,i.Z)(C,2),S=T[0],M=T[1],E=(0,g.dc)(s)?s.internetAccounts.slice():[],A=(0,u.useState)(E.slice(0,2)),P=(0,i.Z)(A,2),I=P[0],R=P[1],z=(0,u.useState)(E.slice(2)),O=(0,i.Z)(z,2),N=O[0],F=O[1],B=(0,u.useState)(null),L=(0,i.Z)(B,2),D=L[0],q=L[1],H=E.find((function(e){return e.internetAccountId===S})),J=function(e){m((0,o.Z)((0,o.Z)({},e),{},{internetAccountId:H?H.internetAccountId:void 0}))};t&&H&&(0,g.hb)(t)&&t.internetAccountId!==H.internetAccountId&&J(t);var U=(0,w.jsx)(x.Z,(0,o.Z)((0,o.Z)({},e),{},{setLocation:J,label:null===H||void 0===H?void 0:H.selectorLabel}));if("file"===S&&(U=(0,w.jsx)(b.Z,(0,o.Z)({},e))),null!==H&&void 0!==H&&H.SelectorComponent){var W=H.SelectorComponent;U=(0,w.jsx)(W,(0,o.Z)((0,o.Z)({},e),{},{setLocation:J}))}return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.Z,{display:"flex",children:(0,w.jsx)(l.Z,{shrink:!0,children:n})}),(0,w.jsx)(c.Z,{display:"flex",flexDirection:"row",children:(0,w.jsxs)(c.Z,{children:[(0,w.jsxs)(v.Z,{value:S,exclusive:!0,onChange:function(e,n){n&&M(n),(0,g.hb)(t)&&J(t)},"aria-label":"file, url, or account picker",children:[new URLSearchParams(window.location.search).get("adminKey")?null:(0,w.jsx)(h.Z,{value:"file","aria-label":"local file",children:"File"}),(0,w.jsx)(h.Z,{value:"url","aria-label":"url",children:"URL"}),I.map((function(e){var t=e.internetAccountId,n=e.toggleContents,r=e.name;return(0,w.jsx)(k,{value:t,"aria-label":r,title:r,children:"string"===typeof n?j(n,5):n||j(r,5)},t)})),N.length?(0,w.jsxs)(h.Z,{onClick:function(e){return q(e.target)},selected:!1,children:["More",(0,w.jsx)(y.Z,{})]}):null]}),(0,w.jsx)(d.Z,{open:Boolean(D),anchorEl:D,onClose:function(){return q(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:null===N||void 0===N?void 0:N.map((function(e,t){return(0,w.jsx)(f.Z,{value:e.internetAccountId,onClick:function(){var n=I[I.length-1];R([].concat((0,r.Z)(I.slice(0,I.length-1)),[e])),F([n].concat((0,r.Z)(N.slice(0,t)),(0,r.Z)(N.slice(t+1)))),M(e.internetAccountId),q(null)},children:e.name},e.internetAccountId)}))})]})}),U,(0,w.jsx)(p.Z,{children:a})]})}))},76770:function(e,t,n){"use strict";var r=n(59740),i=n(33028),o=n(96234),a=n(30969),u=n(22714),s=n(26545),c=n(89001),l=n(74062),d=n(93999),f=n(1720),p=n(83421),h=n(47366),v=n(51526),m=n(2296),g=n(34213),y=n(49232),b=n(89392),x=n(57656),w=n(4356),Z=n(81073),k=n(37574),j=["open","onClose","menuItems","onMenuItemClick"],C=(0,u.Z)({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",padding:2,marginRight:-12,display:"inline-flex"}});function T(e){var t,n,r,i=C(),o=e.type;if("checked"in e&&(t=e.checked,n=e.disabled),"subMenu"===o)r=(0,k.jsx)(g.Z,{color:"action"});else if("checkbox"===o)if(t){var a=n?"inherit":"secondary";r=(0,k.jsx)(y.Z,{color:a})}else r=(0,k.jsx)(b.Z,{color:"action"});else if("radio"===o)if(t){var u=n?"inherit":"secondary";r=(0,k.jsx)(x.Z,{color:u})}else r=(0,k.jsx)(w.Z,{color:"action"});return(0,k.jsx)("div",{className:i.menuItemEndDecoration,children:r})}var S=a.forwardRef((function(e,t){var n=(0,a.useState)(),r=(0,o.Z)(n,2),u=r[0],m=r[1],g=(0,a.useState)(),y=(0,o.Z)(g,2),b=y[0],x=y[1],w=(0,a.useState)(!1),j=(0,o.Z)(w,2),M=j[0],E=j[1],A=(0,a.useState)(),P=(0,o.Z)(A,2),I=P[0],R=P[1],z=(0,a.useState)(),O=(0,o.Z)(z,2),N=O[0],F=O[1],B=(0,a.useRef)(),L=C(),D=e.menuItems,q=e.onMenuItemClick,H=e.open,J=e.onClose,U=e.anchorEl,W=e.top,_=void 0!==W&&W;(0,a.useEffect)((function(){H||(m(void 0),x(void 0))}),[H]),(0,a.useEffect)((function(){var e,t=H&&Boolean(u);return t&&!M?e=setTimeout((function(){E(!0)}),300):!t&&M&&(e=setTimeout((function(){E(!1)}),300)),function(){clearTimeout(e)}}),[M,H,u]),(0,a.useEffect)((function(){if(U){var e=U.getBoundingClientRect();N&&e.top===N.top&&e.left+e.width===N.left||F({top:e.top,left:e.left+e.width})}else N||F({})}),[N,U]);var V=D.some((function(e){return"subMenu"in e||"checkbox"===e.type||"radio"===e.type})),G=D.some((function(e){return"icon"in e&&e.icon})),$={};V&&($.paddingRight=48);var K=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{autoFocusItem:H&&!M,children:D.sort((function(e,t){return(t.priority||0)-(e.priority||0)})).map((function(e,t){if("divider"===e.type)return(0,k.jsx)(c.Z,{component:"li"},"divider-".concat(t));if("subHeader"===e.type)return(0,k.jsx)(l.Z,{children:e.label},"subHeader-".concat(e.label,"-").concat(t));var n=null,r=null;if(e.icon){var i=e.icon;n=(0,k.jsx)(d.Z,{children:(0,k.jsx)(i,{})})}"subMenu"in e?r=(0,k.jsx)(T,{type:"subMenu"}):"checkbox"!==e.type&&"radio"!==e.type||(r=(0,k.jsx)(T,{type:e.type,checked:e.checked,disabled:e.disabled}));var o,a="onClick"in e?(o=e.onClick,function(e){q(e,o)}):void 0;return(0,k.jsxs)(f.Z,{style:$,selected:t===I,onClick:a,onMouseMove:function(n){n.currentTarget!==document.activeElement&&(n.currentTarget.focus(),R(t)),"subMenu"in e?b!==t&&(m(n.currentTarget),x(t)):(m(void 0),x(void 0))},onKeyDown:function(n){if("ArrowLeft"===n.key||"Escape"===n.key)J&&J(n,"escapeKeyDown");else if("ArrowUp"===n.key)R(function(e,t){return(0,Z.findLastIndex)(e.slice(0,t),(function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}))}(D,t));else if("ArrowDown"===n.key){var r=function(e,t){var n=e.slice(t+1).findIndex((function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}));return-1===n?n:t+1+n}(D,t);R(r)}else"subMenu"in e&&("ArrowRight"!==n.key&&"Enter"!==n.key||(m(n.currentTarget),x(t),E(!0)))},disabled:Boolean(e.disabled),children:[n,(0,k.jsx)(p.Z,{primary:e.label,secondary:e.subLabel,inset:G&&!e.icon}),r]},e.label)}))}),D.map((function(e,t){var n=null;return"subMenu"in e&&(n=(0,k.jsx)(S,{anchorEl:u,open:M&&b===t,onClose:function(){E(!1),m(void 0)},onMenuItemClick:q,menuItems:e.subMenu},e.label)),n}))]});return _?K:(0,k.jsx)(h.Z,{in:H,style:{transformOrigin:"0 0 0"},ref:t,children:(0,k.jsx)(v.Z,{elevation:8,ref:B,className:L.paper,style:(0,i.Z)({},N),children:K})})}));t.Z=function(e){var t=e.open,n=e.onClose,o=e.menuItems,a=e.onMenuItemClick,u=(0,r.Z)(e,j);return(0,k.jsx)(m.ZP,(0,i.Z)((0,i.Z)({transitionDuration:0,open:t,onClose:n,BackdropProps:{invisible:!0}},u),{},{children:(0,k.jsx)(S,{open:t,onClose:n,menuItems:o,onMenuItemClick:a,top:!0})}))}},26737:function(e,t,n){"use strict";var r=n(33028),i=n(96234),o=n(59740),a=n(30969),u=n(22714),s=n(81856),c=n(37574),l=["onDrag","vertical","flexbox","className"],d=(0,u.Z)({horizontalHandle:{cursor:"row-resize",width:"100%"},verticalHandle:{cursor:"col-resize",height:"100%"},flexbox_verticalHandle:{cursor:"col-resize",alignSelf:"stretch"},flexbox_horizontalHandle:{cursor:"row-resize",alignSelf:"stretch"}});t.Z=function(e){var t,n=e.onDrag,u=e.vertical,f=void 0!==u&&u,p=e.flexbox,h=void 0!==p&&p,v=e.className,m=(0,o.Z)(e,l),g=(0,a.useState)(!1),y=(0,i.Z)(g,2),b=y[0],x=y[1],w=(0,a.useRef)(0),Z=d();return(0,a.useEffect)((function(){function e(e){e.preventDefault();var t=f?e.clientX:e.clientY,r=t-w.current;r&&(n(r),w.current=t)}function t(){x(!1)}return b?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",t,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",t,!0)}):function(){}}),[b,n,f]),t=h?f?Z.flexbox_verticalHandle:Z.flexbox_horizontalHandle:f?Z.verticalHandle:Z.horizontalHandle,(0,c.jsx)("div",(0,r.Z)({"data-resizer":"true",onMouseDown:function(e){e.preventDefault(),w.current=f?e.clientX:e.clientY,x(!0)},role:"presentation",className:(0,s.Z)(t,v)},m))}},36174:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});n(30969);var r=n(90261),i=n.n(r),o=n(35167),a=n.n(o),u=n(37574),s=new RegExp(["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","td","tfoot","th","thead","tr","u","ul"].map((function(e){return"<".concat(e,"\\b[^>]*>")})).join("|"),"i");function c(e){var t,n=e.html,r=(t=n,s.test(t)?n:i()(n));return(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:a().sanitize(r)}})}},24998:function(e,t,n){"use strict";n.r(t),n.d(t,{App:function(){return _},AssemblySelector:function(){return re.Z},EditableTypography:function(){return q.Z},ErrorMessage:function(){return ne.default},FactoryResetDialog:function(){return ce.Z},FatalErrorDialog:function(){return fe.Z},FileSelector:function(){return ie.Z},LogoFull:function(){return w},Logomark:function(){return x},Menu:function(){return pe.Z},PrerenderedCanvas:function(){return ue},ResizeHandle:function(){return se.Z},ReturnToImportFormDialog:function(){return te},SanitizedHTML:function(){return he.Z},Tooltip:function(){return de},createJBrowseDefaultOverrides:function(){return h},createJBrowseDefaultProps:function(){return p},createJBrowseTheme:function(){return m},jbrowseBaseTheme:function(){return v},jbrowseDefaultPalette:function(){return f}});var r=n(33028),i=n(91503),o=n(14893),a=n(41989),u=n(7165),s=n(2078),c=n(67560),l=n.n(c),d=(0,s.Z)(),f={primary:{main:"#0D233F"},secondary:{main:"#721E63"},tertiary:d.palette.augmentColor({main:"#135560"}),quaternary:d.palette.augmentColor({main:"#FFB11D"}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:d.palette.augmentColor(i.Z),C:d.palette.augmentColor(o.Z),G:d.palette.augmentColor(a.Z),T:d.palette.augmentColor(u.Z)}};function p(){return{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l()(f,e);return{MuiIconButton:{colorSecondary:{color:t.tertiary.main}},MuiButton:{textSecondary:{color:t.tertiary.main}},MuiFab:{secondary:{backgroundColor:t.quaternary.main}},MuiLink:{root:{color:t.tertiary.main}},MuiAccordion:{root:{margin:0,"&$expanded":{margin:0}}},MuiAccordionSummary:{root:{backgroundColor:t.tertiary.main+" !important",width:"100%","&$expanded":{minHeight:0,color:t.tertiary.contrastText,backgroundColor:t.tertiary.main},minHeight:0},content:{"&$expanded":{margin:"8px 8px"},margin:"8px 8px",color:t.tertiary.contrastText}},MuiMenuItem:{root:{paddingTop:3,paddingBottom:3}},MuiListItemIcon:{root:{minWidth:32}},MuiListItemText:{inset:{paddingLeft:32}}}}var v={palette:f,typography:{fontSize:12},spacing:4,props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},overrides:h()};function m(e){var t,n;return e?(null!==(t=e.palette)&&void 0!==t&&t.tertiary&&(e=(0,r.Z)((0,r.Z)({},e),{},{palette:(0,r.Z)((0,r.Z)({},e.palette),{},{tertiary:d.palette.augmentColor(e.palette.tertiary)})})),null!==(n=e.palette)&&void 0!==n&&n.quaternary&&(e=(0,r.Z)((0,r.Z)({},e),{},{palette:(0,r.Z)((0,r.Z)({},e.palette),{},{quaternary:d.palette.augmentColor(e.palette.quaternary)})})),e=(0,r.Z)((0,r.Z)({},e),{},{props:l()({MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},e.props||{}),overrides:l()(h(e.palette),e.overrides||{})}),(0,s.Z)(l()(v,e))):(0,s.Z)(v)}var g=n(30969),y=n(37574);function b(e){return"black"===e?{midnight:"#808080",forrest:"#666666",grape:"#4d4d4d",mandarin:"#333333",gray:"#1a1a1a"}:"white"===e?{midnight:"#ffffff",forrest:"#e6e6e6",grape:"#cccccc",mandarin:"#b3b3b3",gray:"#999999"}:{midnight:"#0d233f",forrest:"#135560",grape:"#721e63",mandarin:"#ffb11d",gray:"#dadada"}}function x(e){var t=e.variant;return(0,y.jsx)("svg",{viewBox:"0 0 175 175",children:(0,y.jsx)(Z,{variant:t})})}function w(e){var t=e.variant;return(0,y.jsxs)("svg",{viewBox:"0 0 641 175",children:[(0,y.jsx)(k,{variant:t}),(0,y.jsx)(Z,{variant:t})]})}function Z(e){var t=b(e.variant);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("path",{style:{fill:t.midnight},d:"M120.5,57.5c.168,0,.333.012.5.013V40.506c-.167,0-.333-.006-.5-.006a98.325,98.325,0,0,0-77.4,37.565q-2.664,3.378-5.023,6.994l14.206,9.327Q54.043,91.709,56,89.179A81.363,81.363,0,0,1,120.5,57.5Z"}),(0,y.jsx)("path",{style:{fill:t.forrest},d:"M148.668,86.223c.308.133.6.283.908.42l6.746-15.618c-.153-.067-.3-.143-.454-.21a81.36,81.36,0,0,0-71.777,3.5q-2.8,1.544-5.469,3.309l9.249,14.054A63.93,63.93,0,0,1,148.668,86.223Z"}),(0,y.jsx)("path",{style:{fill:t.grape},d:"M170.894,109.37A63.929,63.929,0,0,0,113.4,88.861l2.336,15.474a48.456,48.456,0,0,1,44.322,15.42c.111.125.214.255.324.381l11.16-10C171.323,109.879,171.118,109.62,170.894,109.37Z"}),(0,y.jsx)("path",{style:{fill:t.mandarin},d:"M150.921,150.314c.04.163.07.326.107.489l16.509-4.058c-.039-.163-.067-.326-.107-.489A48.457,48.457,0,0,0,135.575,111.8l-5.515,15.591A32.466,32.466,0,0,1,150.921,150.314Z"}),(0,y.jsx)("path",{style:{fill:t.gray},d:"M134.1,138.129l-9.779,13.213a32.486,32.486,0,0,1,7.823,14.463l15.147.852c.012-.166.032-.331.041-.5A32.464,32.464,0,0,0,134.1,138.129Z"})]})}function k(e){var t=b(e.variant);return(0,y.jsxs)("g",{"aria-label":"JBrowse",transform:"translate(213.084 144.241)",style:{fill:t.midnight},children:[(0,y.jsx)("path",{d:"m 26.355,-71.505 v 54.075 2.835 q 0,6.825 -0.42,10.185 -0.735,5.67 -2.835,9.135 -3.255,5.355 -8.505,8.4 -4.83,2.73 -11.55,3.57 L 1.47,11.76 Q 7.35,10.185 9.24,4.2 10.605,-0.105 10.605,-9.975 v -5.565 -55.965 q 1.785,0 4.62,0.315 2.835,0.21 3.255,0.21 1.785,0 2.94,-0.105 4.515,-0.42 4.935,-0.42 z"}),(0,y.jsx)("path",{d:"m 60.68836,-65.415 v 24.78 h 3.255 q 2.94,0 4.935,-0.525 2.1,-0.525 3.885,-2.1 2.31,-1.995 3.36,-4.83 1.155,-2.835 1.155,-6.09 0,-5.565 -2.94,-8.61 -2.94,-3.045 -8.295,-3.045 -2.52,0 -5.355,0.42 z m 0,30.87 V -6.09 h 5.25 q 4.725,0 8.505,-3.675 3.885,-3.78 3.885,-10.08 0,-8.19 -4.62,-11.655 -4.095,-3.045 -13.02,-3.045 z M 44.93836,0 v -71.505 h 27.09 q 9.135,0 14.385,3.255 6.51,3.99 6.51,12.6 0,7.035 -5.25,11.655 -4.62,4.095 -11.97,5.145 v 0.945 q 7.56,0.735 12.285,3.99 6.615,4.62 6.615,13.335 0,10.185 -7.98,15.75 -6.93,4.83 -17.43,4.83 z"}),(0,y.jsx)("path",{d:"M 109.44281,0.525 V -50.4 q 1.785,0.21 3.99,0.42 2.31,0.105 3.255,0.105 2.31,0 4.2,-0.21 1.89,-0.21 3.045,-0.315 v 13.02 q 1.89,-6.51 5.46,-9.87 4.41,-4.095 11.655,-4.095 -0.315,2.73 -0.42,6.825 -0.105,3.99 -0.105,7.455 l -0.945,0.84 q -0.945,-0.735 -2.415,-1.05 -1.47,-0.315 -2.94,-0.315 -3.57,0 -6.195,1.89 -2.52,1.785 -3.465,5.04 -0.42,1.155 -0.525,3.15 -0.105,1.89 -0.105,4.515 v 4.515 19.005 q -1.785,-0.21 -2.625,-0.21 -3.675,-0.315 -4.62,-0.315 -2.31,0 -4.2,0.21 -1.89,0.21 -3.045,0.315 z"}),(0,y.jsx)("path",{d:"m 173.77337,1.47 q -11.655,0 -18.585,-6.825 -6.93,-6.825 -6.93,-18.48 0,-12.6 6.72,-20.055 6.825,-7.455 18.9,-7.455 11.97,0 18.9,6.72 6.93,6.72 6.93,18.48 0,12.285 -6.72,19.74 -7.14,7.875 -19.215,7.875 z m 0.735,-48.09 q -5.88,0 -8.505,6.51 -2.205,5.565 -2.205,15.96 0,8.19 1.47,12.915 2.415,7.98 8.505,7.98 5.565,0 8.19,-7.875 2.205,-6.51 2.205,-16.695 0,-8.505 -2.1,-13.23 -2.52,-5.565 -7.56,-5.565 z"}),(0,y.jsx)("path",{d:"m 222.03563,-50.4 10.5,36.015 q 3.675,-11.235 5.67,-17.85 2.415,-8.085 5.04,-18.165 1.05,0.105 3.045,0.315 2.1,0.21 2.835,0.21 1.995,0 3.15,-0.105 1.26,-0.21 2.73,-0.42 l 10.71,36.015 q 5.88,-17.43 10.71,-36.015 l 4.2,0.315 4.095,-0.315 q -5.145,13.125 -9.135,24.57 -5.04,14.28 -8.505,26.355 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.205,-0.105 -1.89,0 -3.36,0.21 -1.365,0.21 -2.31,0.315 l -10.605,-34.755 q -4.41,13.65 -6.72,21.105 -2.31,7.35 -4.095,13.65 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.31,-0.105 -1.995,0 -3.465,0.21 -1.365,0.21 -2.31,0.315 -3.78,-12.81 -5.04,-17.01 -2.205,-7.245 -5.46,-17.01 -2.835,-8.4 -5.88,-16.905 1.575,0 4.305,0.315 2.73,0.21 3.36,0.21 1.47,0 4.305,-0.21 2.835,-0.315 3.465,-0.315 z"}),(0,y.jsx)("path",{d:"m 292.84172,-12.81 h 2.625 q 1.47,4.095 4.62,6.51 3.15,2.415 7.35,2.415 2.94,0 5.46,-1.785 2.625,-1.89 2.625,-4.62 0,-3.885 -6.195,-6.615 -10.395,-4.62 -11.655,-5.46 -6.405,-4.515 -6.405,-12.285 0,-7.77 5.25,-12.18 5.25,-4.515 12.81,-4.515 3.99,0 8.085,1.365 4.095,1.26 7.14,3.57 l -2.52,9.24 h -2.94 q -0.63,-3.57 -3.57,-6.195 -2.835,-2.625 -6.405,-2.625 -3.15,0 -5.46,1.575 -2.31,1.47 -2.31,4.515 0,3.885 6.405,6.51 10.185,4.095 11.865,5.25 6.405,4.41 6.405,12.81 0,7.455 -5.46,12.18 -5.355,4.62 -14.805,4.62 -8.19,0 -14.49,-4.305 z"}),(0,y.jsx)("path",{d:"m 349.61228,-29.925 h 15.54 q 0,-6.51 -1.05,-10.395 -1.68,-6.3 -5.88,-6.3 -5.04,0 -7.14,6.195 -1.47,4.305 -1.47,10.5 z m 30.03,5.04 h -30.03 q 0,9.135 3.045,13.86 3.57,5.67 11.55,5.67 3.255,0 6.405,-1.26 3.15,-1.26 5.88,-3.465 l 1.26,0.945 -2.31,5.88 q -6.72,4.725 -15.015,4.725 -12.915,0 -19.635,-7.245 -6.72,-7.245 -6.72,-20.37 0,-11.235 6.405,-18.165 6.51,-7.035 17.64,-7.035 11.655,0 16.905,7.56 4.62,6.615 4.62,18.9 z"})]})}var j=n(96234),C=n(22714),T=n(58257),S=n(36051),M=n(317),E=n(51526),A=n(80975),P=n(43175),I=n(1720),R=n(28599),z=n(22248),O=n(94727),N=n(90550),F=n(40909),B=n(9077),L=n(80303),D=n(31631),q=n(78033),H=n(72434),J=n(78734),U=(0,C.Z)((function(e){return{"@global":{html:{"font-family":"Roboto"},"*":{"scrollbar-width":"auto","scrollbar-color":"rgba(0,0,0,.5) rgba(128,128,128)"},"*::-webkit-scrollbar":{"-webkit-appearance":"none",width:"12px"},"*::-webkit-scrollbar-thumb":{"background-color":"rgba(0,0,0,.5)","-webkit-box-shadow":"0 0 1px rgba(255,255,255,.5)"}},root:{display:"grid",height:"100vh",width:"100%"},fabLeft:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},fabRight:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},menuBarAndComponents:{gridColumn:"main",display:"grid",gridTemplateRows:"[menubar] min-content [components] auto",height:"100vh"},menuBar:{gridRow:"menubar"},components:{overflowY:"auto",gridRow:"components"},appBar:{flexGrow:1},grow:{flexGrow:1},inputBase:{color:e.palette.primary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.primary.light}},inputFocused:{borderColor:e.palette.secondary.main,backgroundColor:e.palette.primary.light},selectPaper:{padding:e.spacing(4)}}})),W=(0,N.observer)((function(e){var t=e.session.configuration,n=(0,B.readConfObject)(t,"logoPath");return null!==n&&void 0!==n&&n.uri?(0,y.jsx)("img",{src:n.uri,alt:"Custom logo"}):(0,y.jsx)(w,{variant:"white"})})),_=(0,N.observer)((function(e){var t,n,i=e.session,o=e.HeaderButtons,a=void 0===o?(0,y.jsx)("div",{}):o,u=U(),s=(0,F.getEnv)(i).pluginManager,c=s.getElementTypeRecord("view").all(),l=(0,g.useState)(null===(t=c[0])||void 0===t?void 0:t.name),d=(0,j.Z)(l,2),f=d[0],p=d[1],h=i.visibleWidget,v=i.drawerWidth,m=i.minimized,b=i.activeWidgets,x=i.savedSessionNames,w=i.name,Z=i.menus,k=i.views,C=i.drawerPosition;var N,B=h&&!m;return"right"===C?N=["[main] 1fr",B?"[drawer] ".concat(v,"px"):void 0]:"left"===C&&(N=[B?"[drawer] ".concat(v,"px"):void 0,"[main] 1fr"]),(0,y.jsxs)("div",{className:u.root,style:{gridTemplateColumns:null===(n=N)||void 0===n?void 0:n.filter((function(e){return!!e})).join(" ")},children:[B&&"left"===C?(0,y.jsx)(L.Z,{session:i}):null,i.DialogComponent?(0,y.jsx)(g.Suspense,{fallback:(0,y.jsx)("div",{}),children:(0,y.jsx)(i.DialogComponent,(0,r.Z)({},i.DialogProps))}):null,(0,y.jsxs)("div",{className:u.menuBarAndComponents,children:[(0,y.jsx)("div",{className:u.menuBar,children:(0,y.jsx)(T.Z,{className:u.appBar,position:"static",children:(0,y.jsxs)(S.Z,{children:[Z.map((function(e){return(0,y.jsx)(D.Z,{menuTitle:e.label,menuItems:e.menuItems,session:i},e.label)})),(0,y.jsx)("div",{className:u.grow}),(0,y.jsx)(M.ZP,{title:"Rename Session",arrow:!0,children:(0,y.jsx)(q.Z,{value:w,setValue:function(e){null!==x&&void 0!==x&&x.includes(e)?i.notify('Cannot rename session to "'.concat(e,'", a saved session with that name already exists'),"warning"):i.renameCurrentSession(e)},variant:"body1",classes:{inputBase:u.inputBase,inputRoot:u.inputRoot,inputFocused:u.inputFocused}})}),a,(0,y.jsx)("div",{className:u.grow}),(0,y.jsx)("div",{style:{width:150,maxHeight:48},children:(0,y.jsx)(W,{session:i})})]})})}),(0,y.jsxs)("div",{className:u.components,children:[k.length?k.map((function(e){var t=s.getViewType(e.type);if(!t)throw new Error("unknown view type ".concat(e.type));var n=t.ReactComponent;return(0,y.jsx)(J.Z,{view:e,onClose:function(){return i.removeView(e)},children:(0,y.jsx)(g.Suspense,{fallback:(0,y.jsx)("div",{children:"Loading..."}),children:(0,y.jsx)(n,{model:e,session:i,getTrackType:s.getTrackType})})},"view-".concat(e.id))})):(0,y.jsxs)(E.Z,{className:u.selectPaper,children:[(0,y.jsx)(A.Z,{children:"Select a view to launch"}),(0,y.jsx)(P.Z,{value:f,onChange:function(e){return p(e.target.value)},children:c.map((function(e){var t=e.name;return(0,y.jsx)(I.Z,{value:t,children:t},t)}))}),(0,y.jsx)(R.Z,{onClick:function(){i.addView(f,{})},variant:"contained",color:"primary",children:"Launch view"})]}),(0,y.jsx)("div",{style:{height:300}})]})]}),b.size>0&&m?(0,y.jsx)(M.ZP,{title:"Open drawer widget",children:(0,y.jsx)(z.Z,{className:"right"===C?u.fabRight:u.fabLeft,color:"primary","data-testid":"drawer-maximize",onClick:function(){return i.showWidgetDrawer()},children:(0,y.jsx)(O.Z,{})})}):null,B&&"right"===C?(0,y.jsx)(L.Z,{session:i}):null,(0,y.jsx)(H.Z,{session:i})]})})),V=n(83483),G=n(64501),$=n(32343),K=n(89001),Y=n(93138),X=n(53033),Q=n(14008),ee=(0,C.Z)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var te=(0,N.observer)((function(e){var t=e.model,n=e.handleClose,r=ee();return(0,y.jsxs)(V.Z,{maxWidth:"xl",open:!0,onClose:n,children:[(0,y.jsxs)(G.Z,{children:["Reference sequence",n?(0,y.jsx)($.Z,{className:r.closeButton,onClick:function(){return n()},children:(0,y.jsx)(Q.Z,{})}):null]}),(0,y.jsx)(K.Z,{}),(0,y.jsx)(Y.Z,{children:(0,y.jsx)(A.Z,{children:"Are you sure you want to return to the import form? This will lose your current view"})}),(0,y.jsxs)(X.Z,{children:[(0,y.jsx)(R.Z,{onClick:function(){t.clearView(),n()},variant:"contained",color:"primary",autoFocus:!0,children:"OK"}),(0,y.jsx)(R.Z,{onClick:function(){return n()},color:"secondary",variant:"contained",children:"Cancel"})]})]})})),ne=n(16383),re=n(84291),ie=n(98553),oe=n(54131);function ae(e){var t=e.width,n=e.height,i=e.highResolutionScaling,o=e.style,a=e.imageData,u=e.blockKey,s=e.showSoftClip,c=(0,g.useRef)(null);(0,g.useEffect)((function(){if(a){var e=c.current;if(e){var t=e.getContext("2d");t&&(0,oe.kv)(a,t)}}}),[a]);var l=u?"_"+u:"",d="prerendered_canvas".concat(s?"_softclipped":"").concat(l);return(0,y.jsx)("canvas",{"data-testid":d,ref:c,width:t*i,height:n*i,style:(0,r.Z)({width:t,height:n},o)})}ae.defaultProps={imageData:void 0,highResolutionScaling:1,style:{}};var ue=ae,se=n(26737),ce=n(88896),le=(0,C.Z)({hoverLabel:{border:"1px solid black",position:"absolute",background:"#fffa",pointerEvents:"none",zIndex:1e4}}),de=(0,N.observer)((function(e){var t=e.offsetX,n=e.offsetY,r=e.configuration,i=e.feature,o=e.timeout,a=void 0===o?300:o,u=le(),s=(0,g.useState)(!1),c=(0,j.Z)(s,2),l=c[0],d=c[1];if((0,g.useEffect)((function(){var e=setTimeout((function(){return d(!0)}),a);return function(){return clearTimeout(e)}})),i&&l){var f=(0,B.readConfObject)(r,"mouseover",{feature:i});return(0,y.jsx)("div",{className:u.hoverLabel,style:{left:t,top:n},children:f})}return null})),fe=n(60092),pe=n(76770),he=n(36174)},55429:function(e,t,n){"use strict";n.d(t,{ML:function(){return m},N7:function(){return b},O8:function(){return h},fP:function(){return y},zF:function(){return x}});var r=n(34795),i=n(87371),o=n(9249),a=n(45754),u=n(86906),s=n(25991),c=n(77162),l=n.n(c),d=n(55792),f=n(69002),p=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).code=void 0,e}return(0,i.Z)(n)}((0,s.Z)(Error));function h(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw y()}}function v(e){return new Promise((function(t){return setTimeout(t,e)}))}function m(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(1);case 2:h(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){if("undefined"!==typeof DOMException)return new DOMException("aborted","AbortError");var e=new p("aborted");return e.code="ERR_ABORTED",e}function b(e){return e?(0,f.R)(e,"abort"):d.y.create()}function x(e){return e instanceof Error&&("AbortError"===e.name||"ERR_ABORTED"===e.code||!!e.message.match(/\b(aborted|AbortError)\b/i))}},25625:function(e,t,n){"use strict";n.d(t,{R:function(){return s},Z:function(){return c}});var r=n(9249),i=n(87371),o=n(41361),a=n(25685),u=n(25664);function s(e,t){var n,r=(0,o.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;(0,u.$E)(i)?e[i.name].apply(e,i.args):e[i.name]=i.args[0]}}catch(a){r.e(a)}finally{r.f()}}var c=function(){function e(t,n){(0,r.Z)(this,e),this.width=void 0,this.height=void 0,this.currentFont="12px Courier New, monospace",this.currentStrokeStyle="",this.currentFillStyle="",this.recordedCommands=[],this.width=t,this.height=n}return(0,i.Z)(e,[{key:"pushMethodCall",value:function(e,t){this.recordedCommands.push({name:e,args:t})}},{key:"pushSetterCall",value:function(e,t){this.recordedCommands.push({name:e,args:[t]})}},{key:"getSerializedCommands",value:function(){return this.recordedCommands}},{key:"getSerializedSvg",value:function(){return(0,a.E)(this)}},{key:"getCommands",value:function(){return this.recordedCommands}},{key:"strokeStyle",set:function(e){e!==this.currentStrokeStyle&&(this.pushSetterCall("strokeStyle",e),this.currentStrokeStyle=e)}},{key:"fillStyle",set:function(e){e!==this.currentFillStyle&&(this.pushSetterCall("fillStyle",e),this.currentFillStyle=e)}},{key:"font",set:function(e){this.currentFont=e,this.pushSetterCall("font",e)}},{key:"arc",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("arc",t)}},{key:"arcTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("arcTo",t)}},{key:"beginPath",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("beginPath",t)}},{key:"clearRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("clearRect",t)}},{key:"closePath",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("closePath",t)}},{key:"ellipse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("ellipse",t)}},{key:"fill",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("fill",t)}},{key:"fillRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(!(r>this.width||r+o<0)){var u=Math.max(r,0),s=o-(u-r);this.pushMethodCall("fillRect",[u,i,s,a])}}},{key:"fillText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("fillText",t)}},{key:"lineTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("lineTo",t)}},{key:"measureText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=Number((this.currentFont.match(/\d+/)||[])[0]);return{width:i/2*r.length,height:i}}},{key:"moveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("moveTo",t)}},{key:"quadraticCurveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("quadraticCurveTo",t)}},{key:"rect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("rect",t)}},{key:"restore",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("restore",t)}},{key:"rotate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("rotate",t)}},{key:"save",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("save",t)}},{key:"setTransform",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("setTransform",t)}},{key:"scale",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("scale",t)}},{key:"stroke",value:function(){this.pushMethodCall("stroke",[])}},{key:"strokeRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("strokeRect",t)}},{key:"strokeText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("strokeText",t)}},{key:"transform",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("transform",t)}},{key:"translate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.pushMethodCall("translate",t)}}]),e}()},6256:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9249),i=n(87371),o=n(84070),a=function(){function e(t,n){(0,r.Z)(this,e),this.width=void 0,this.height=void 0,this.context=void 0,this.width=t,this.height=n,this.context=new o.Z(this.width,this.height)}return(0,i.Z)(e,[{key:"getContext",value:function(e){if("2d"!==e)throw new Error("unknown type ".concat(e));return this.context}},{key:"toDataURL",value:function(){throw new Error("not supported")}},{key:"getSerializedSvg",value:function(){var e;return null===(e=this.context)||void 0===e?void 0:e.getSerializedSvg()}}]),e}()},90316:function(e,t,n){"use strict";n.d(t,{Ck:function(){return p},vL:function(){return d},MC:function(){return f},kv:function(){return v}});var r=n(34795),i=n(77162),o=n.n(i),a=n(88778),u=n.n(a),s=n(6256),c=n(38184),l=n.n(c);var d,f,p,h=n(25625);function v(e,t){if(n=e,l()(n)&&"height"in n&&"serializedCommands"in n&&Array.isArray(n.serializedCommands))(0,h.R)(t,e.serializedCommands);else if(e instanceof p)t.drawImage(e,0,0);else if(e.dataURL)throw new Error("dataURL deserialization no longer supported");var n}var m="function"===typeof OffscreenCanvas,g=u();if(m)d=function(e,t){return new OffscreenCanvas(e,t)},f=window.createImageBitmap||self.createImageBitmap,p=window.ImageBitmap||self.ImageBitmap;else if(g){var y=n(84003),b=y.createCanvas,x=y.Image;d=b,f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length<=1||!(i.length-1)){e.next=2;break}throw new Error("only one-argument uses of createImageBitmap are supported by the node offscreencanvas ponyfill");case 2:return n=t.toDataURL(),r=new x,e.abrupt("return",new Promise((function(e,t){r.onload=function(){return e(r)},r.onerror=t,r.src=n})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=x}else d=function(e,t){return new s.Z(e,t)},f=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getContext("2d"),r={height:n.height,width:n.width,serializedCommands:n.getSerializedCommands(),containsNoTransferables:!0},e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=String},54131:function(e,t,n){"use strict";n.d(t,{Ck:function(){return r.Ck},MC:function(){return r.MC},kv:function(){return r.kv},vL:function(){return r.vL}});var r=n(90316)},31385:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var r=n(34795),i=n(77162),o=n.n(i),a=(n(30969),n(90316)),u=n(6256),s=n(81073),c=n(37574);function l(e,t,n,r){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function e(t,n,r,i){var l,d,f,p,h,v,m,g,y,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.exportSVG,d=r.highResolutionScaling,f=void 0===d?1:d,!l||l.rasterizeLayers){e.next=7;break}return p=new u.Z(t,n),h=p.getContext("2d"),e.next=6,i(h);case 6:return e.abrupt("return",{reactElement:p.getSerializedSvg()});case 7:if(!l||!l.rasterizeLayers){e.next=34;break}if(v=4,m=(0,a.vL)(Math.ceil(t*v),n*v),g=m.getContext("2d")){e.next=13;break}throw new Error("2d canvas rendering not supported on this platform");case 13:return g.scale(v,v),e.next=16,i(g);case 16:if(e.t0=c.jsx,e.t1=t,e.t2=n,!("convertToBlob"in m)){e.next=29;break}return e.t4=s.blobToDataURL,e.next=23,m.convertToBlob({type:"image/png"});case 23:return e.t5=e.sent,e.next=26,(0,e.t4)(e.t5);case 26:e.t3=e.sent,e.next=30;break;case 29:e.t3=m.toDataURL();case 30:return e.t6=e.t3,e.t7={width:e.t1,height:e.t2,xlinkHref:e.t6},e.t8=(0,e.t0)("image",e.t7),e.abrupt("return",{reactElement:e.t8});case 34:if(y=(0,a.vL)(Math.ceil(t*f),n*f),b=y.getContext("2d")){e.next=38;break}throw new Error("2d canvas rendering not supported on this platform");case 38:return b.scale(f,f),e.next=41,i(b);case 41:return e.next=43,(0,a.MC)(y);case 43:return e.t9=e.sent,e.abrupt("return",{imageData:e.t9});case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8438:function(e,t,n){"use strict";n.d(t,{BQ:function(){return l},J0:function(){return Z},Ms:function(){return C},PK:function(){return T},Um:function(){return x},Z6:function(){return S},_L:function(){return p},cX:function(){return f},d6:function(){return y},dc:function(){return w},gI:function(){return h},hb:function(){return k},k$:function(){return d},uF:function(){return v},yZ:function(){return b},yb:function(){return j},zL:function(){return m},zN:function(){return g}});var r=n(87371),i=n(9249),o=n(80753),a=n(45754),u=n(86906),s=n(25991),c=n(40909);function l(e){return(0,c.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e}function d(e){return"object"===typeof e&&null!==e&&"rpcManager"in e&&"configuration"in e}function f(e){return d(e)&&"editConfiguration"in e}function p(e){return d(e)&&"addTrackConf"in e}function h(e){return d(e)&&"widgets"in e}function v(e){return d(e)&&"sessionPlugins"in e}function m(e){return"object"===typeof e&&null!==e&&"selection"in e&&"setSelection"in e}function g(e){return"object"===typeof e&&null!==e&&"width"in e&&"setWidth"in e}function y(e){return"object"===typeof e&&null!==e&&"configuration"in e&&e.configuration.trackId}function b(e){return"object"===typeof e&&null!==e&&"configuration"in e&&e.configuration.displayId}function x(e){return"object"===typeof e&&null!==e&&"showTrack"in e&&"hideTrack"in e}function w(e){return"object"===typeof e&&null!==e&&"isAssemblyEditing"in e&&"findAppropriateInternetAccount"in e}function Z(e){return"object"===typeof e&&null!==e&&"appendMenu"in e&&"appendToSubMenu"in e}function k(e){return"object"===typeof e&&null!==e&&"locationType"in e&&"uri"in e}var j=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),(a=t.call(this,e)).message=e,a.url=r,a.name="AuthNeededError",Object.setPrototypeOf((0,o.Z)(a),n.prototype),a}return(0,r.Z)(n)}((0,s.Z)(Error)),C=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).message=e,o.internetAccountId=r,o.name="RetryError",o}return(0,r.Z)(n)}((0,s.Z)(Error));function T(e){return e instanceof Error&&("AuthNeededError"===e.name||void 0!==e.url)}function S(e){return"RetryError"===e.name||void 0!==e.internetAccountId}},26132:function(e,t,n){"use strict";n.d(t,{g:function(){return s},q:function(){return c}});var r=n(34795),i=n(77162),o=n.n(i),a=n(35247),u=n(55429);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeout,r=t.signal,i=t.name;return new Promise((function(t,o){var s,c=!1,l=(0,a.when)(e),d=function(){};n&&(s=setTimeout((function(){c||(c=!0,l.cancel(),o(new Error("timed out waiting for ".concat(i||"whenPresent"))))}),n),d=function(){return s&&clearTimeout(s)}),r&&r.addEventListener("abort",(function(){c||(c=!0,l.cancel(),d(),o((0,u.fP)()))})),l.then((function(){c||(c=!0,d(),t(!0))})).catch((function(e){c||(c=!0,d(),o(e))}))}))}function c(e){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,s((function(){var e=t();return void 0!==e&&null!==e}),n);case 3:return e.abrupt("return",t());case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}},83827:function(e,t,n){"use strict";var r=n(68079),i=n(33028),o=n(34795),a=n(77162),u=n.n(a),s=(n(80045),n(52743)),c=n(6145),l=n(41361),d=n(96234),f=n(9249),p=n(87371),h=n(40909),v=n(86297),m=n(93029),g=n(82044),y=n(81575),b=n(39798),x=n(66737),w=n(58096),Z=n(71036),k=n(15875),j=n(31145),C=n(9077),T=n(49767),S=n(10840),M=n(61910),E=n(11192),A=function(){function e(){(0,f.Z)(this,e),this.phaseCallbacks=new Map,this.phaseOrder=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.phaseOrder=n}return(0,p.Z)(e,[{key:"add",value:function(e,t){if(!this.phaseOrder.includes(e))throw new Error("unknown phase ".concat(e));var n=this.phaseCallbacks.get(e);n||(n=[],this.phaseCallbacks.set(e,n)),n.push(t)}},{key:"run",value:function(){var e=this;this.phaseOrder.forEach((function(t){var n;null===(n=e.phaseCallbacks.get(t))||void 0===n||n.forEach((function(e){return e()}))}))}}]),e}(),P=function(){function e(t,n){(0,f.Z)(this,e),this.typeName=t,this.baseClass=n,this.registeredTypes={}}return(0,p.Z)(e,[{key:"add",value:function(e,t){this.registeredTypes[e]=t}},{key:"has",value:function(e){return e in this.registeredTypes}},{key:"get",value:function(e){if(!this.has(e))throw new Error("".concat(this.typeName," '").concat(e,"' not found, perhaps its plugin is not loaded or its plugin has not added it."));return this.registeredTypes[e]}},{key:"all",value:function(){return Object.values(this.registeredTypes)}}]),e}(),I=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,f.Z)(this,e),this.plugins=[],this.jexl=(0,E.Z)(),this.pluginMetadata={},this.runtimePluginDefinitions=[],this.elementCreationSchedule=new A("renderer","adapter","text search adapter","display","track","connection","view","widget","rpc method","internet account"),this.rendererTypes=new P("RendererType",v.default),this.adapterTypes=new P("AdapterType",m.Z),this.textSearchAdapterTypes=new P("TextSearchAdapterType",j.Z),this.trackTypes=new P("TrackType",g.Z),this.displayTypes=new P("DisplayType",y.Z),this.connectionTypes=new P("ConnectionType",w.Z),this.viewTypes=new P("ViewType",b.Z),this.widgetTypes=new P("WidgetType",x.Z),this.rpcMethods=new P("RpcMethodType",Z.Z),this.internetAccountTypes=new P("InternetAccountType",k.Z),this.configured=!1,this.rootModel=void 0,this.extensionPoints=new Map,this.jbrequireCache=new Map,this.lib=S.Z,this.load=function(e){return t.jbrequireCache.has(e)||t.jbrequireCache.set(e,e(t)),t.jbrequireCache.get(e)},this.jbrequire=function(e){if("string"===typeof e){var n=t.lib[e];if(!n)throw new TypeError("No jbrequire re-export defined for package '".concat(e,"'. If this package must be shared between plugins, add it to ReExports.js. If it does not need to be shared, just import it normally."));return n}if("function"===typeof e)return t.load(e);if(e.default)return t.jbrequire(e.default);throw new TypeError("lib passed to jbrequire must be either a string or a function")},this.addPlugin({plugin:new M.Z,metadata:{isCore:!0}}),n.forEach((function(e){t.addPlugin(e)}))}return(0,p.Z)(e,[{key:"pluginConfigurationSchemas",value:function(){var e={};return this.plugins.forEach((function(t){t.configurationSchema&&(e[t.name]=t.configurationSchema)})),e}},{key:"addPlugin",value:function(e){if(this.configured)throw new Error("JBrowse already configured, cannot add plugins");var t=e instanceof T.Z?[e,{}]:[e.plugin,e.metadata],n=(0,d.Z)(t,2),r=n[0],i=n[1],o=void 0===i?{}:i;if(this.plugins.includes(r))throw new Error("plugin already installed");return this.pluginMetadata[r.name]=o,"definition"in e&&this.runtimePluginDefinitions.push(e.definition),r.install(this),this.plugins.push(r),this}},{key:"getPlugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))}},{key:"hasPlugin",value:function(e){return void 0!==this.getPlugin(e)}},{key:"createPluggableElements",value:function(){return this.elementCreationSchedule&&(this.elementCreationSchedule.run(),delete this.elementCreationSchedule),this}},{key:"setRootModel",value:function(e){this.rootModel=e}},{key:"configure",value:function(){var e=this;if(this.configured)throw new Error("already configured");return this.plugins.forEach((function(t){return t.configure(e)})),this.configured=!0,this}},{key:"getElementTypeRecord",value:function(e){switch(e){case"adapter":return this.adapterTypes;case"text search adapter":return this.textSearchAdapterTypes;case"connection":return this.connectionTypes;case"widget":return this.widgetTypes;case"renderer":return this.rendererTypes;case"display":return this.displayTypes;case"track":return this.trackTypes;case"view":return this.viewTypes;case"rpc method":return this.rpcMethods;case"internet account":return this.internetAccountTypes;default:throw new Error("invalid element type '".concat(e,"'"))}}},{key:"addElementType",value:function(e,t){var n=this;if("function"!==typeof t)throw new Error("must provide a callback function that returns the new type object");var r=this.getElementTypeRecord(e);return this.elementCreationSchedule&&this.elementCreationSchedule.add(e,(function(){var i=t(n);if(!i.name)throw new Error("cannot add a ".concat(e," with no name"));if(r.has(i.name))throw new Error("".concat(e," ").concat(i.name," already registered, cannot register it again"));i=n.evaluateExtensionPoint("Core-extendPluggableElement",i),r.add(i.name,i)})),this}},{key:"getElementType",value:function(e,t){return this.getElementTypeRecord(e).get(t)}},{key:"getElementTypesInGroup",value:function(e){return this.getElementTypeRecord(e).all()}},{key:"pluggableMstType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.types.maybe(h.types.null),i=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,h.isType)(e)&&(0,h.isModelType)(e)}));return 0===i.length?(console.warn("No JBrowse pluggable types found matching ('".concat(e,"','").concat(t,"')")),n):h.types.union.apply(h.types,(0,r.Z)(i))}},{key:"pluggableConfigSchemaType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"configSchema",n=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,C.isBareConfigurationSchemaType)(e)}));return 0===n.length&&n.push((0,C.ConfigurationSchema)("Null",{})),h.types.union.apply(h.types,(0,r.Z)(n))}},{key:"getRendererType",value:function(e){return this.rendererTypes.get(e)}},{key:"getRendererTypes",value:function(){return this.rendererTypes.all()}},{key:"getAdapterType",value:function(e){return this.adapterTypes.get(e)}},{key:"getTextSearchAdapterType",value:function(e){return this.textSearchAdapterTypes.get(e)}},{key:"getTrackType",value:function(e){return this.trackTypes.get(e)}},{key:"getDisplayType",value:function(e){return this.displayTypes.get(e)}},{key:"getViewType",value:function(e){return this.viewTypes.get(e)}},{key:"getWidgetType",value:function(e){return this.widgetTypes.get(e)}},{key:"getConnectionType",value:function(e){return this.connectionTypes.get(e)}},{key:"getRpcMethodType",value:function(e){return this.rpcMethods.get(e)}},{key:"getInternetAccountType",value:function(e){return this.internetAccountTypes.get(e)}},{key:"addRendererType",value:function(e){return this.addElementType("renderer",e)}},{key:"addAdapterType",value:function(e){return this.addElementType("adapter",e)}},{key:"addTextSearchAdapterType",value:function(e){return this.addElementType("text search adapter",e)}},{key:"addTrackType",value:function(e){var t=this;return this.addElementType("track",(function(){var n=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.trackType!==n.name||n.displayTypes.includes(e)||n.addDisplayType(e)})),n}))}},{key:"addDisplayType",value:function(e){return this.addElementType("display",e)}},{key:"addViewType",value:function(e){var t=this;return this.addElementType("view",(function(){var n=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.viewType!==n.name||n.displayTypes.includes(e)||n.addDisplayType(e)})),n}))}},{key:"addWidgetType",value:function(e){return this.addElementType("widget",e)}},{key:"addConnectionType",value:function(e){return this.addElementType("connection",e)}},{key:"addRpcMethod",value:function(e){return this.addElementType("rpc method",e)}},{key:"addInternetAccountType",value:function(e){return this.addElementType("internet account",e)}},{key:"addToExtensionPoint",value:function(e,t){var n=this.extensionPoints.get(e);n||(n=[],this.extensionPoints.set(e,n)),n.push(t)}},{key:"evaluateExtensionPoint",value:function(e,t){var n=this.extensionPoints.get(e),r=t;if(n){var i,o=(0,l.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{r=a(r)}catch(u){console.error(u)}}}catch(s){o.e(s)}finally{o.f()}}return r}},{key:"evaluateAsyncExtensionPoint",value:function(){var e=(0,o.Z)(u().mark((function e(t,n){var r,i,o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.extensionPoints.get(t),i=n,!r){e.next=27;break}o=(0,l.Z)(r),e.prev=4,o.s();case 6:if((a=o.n()).done){e.next=19;break}return s=a.value,e.prev=8,e.next=11,s(i);case 11:i=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.error(e.t0);case 17:e.next=6;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(4),o.e(e.t1);case 24:return e.prev=24,o.f(),e.finish(24);case 27:return e.abrupt("return",i);case 28:case"end":return e.stop()}}),e,this,[[4,21,24,27],[8,14]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),R=n(94943),z=n(92371),O=n.n(z),N=n(81073);(0,C.ConfigurationSchema)("PluginSource",{name:{type:"string",defaultValue:""},url:{type:"string",defaultValue:""}});function F(e){return(void 0!==e.umdUrl||void 0!==e.url)&&void 0!==e.name}function B(e){return void 0!==e.cjsUrl}function L(){return"object"===typeof self&&self.self===self&&self||"object"===typeof n.g&&n.g.global===n.g&&n.g||this}var D,q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;(0,f.Z)(this,e),this.definitions=[],this.fetchESM=void 0,this.fetchCJS=void 0,this.fetchESM=null===n||void 0===n?void 0:n.fetchESM,this.fetchCJS=null===n||void 0===n?void 0:n.fetchCJS,this.definitions=JSON.parse(JSON.stringify(t))}return(0,p.Z)(e,[{key:"loadScript",value:function(e){var t=L();if(!function(e){return Boolean("WorkerGlobalScope"in e)}(t))return O()(e);if(t&&t.importScripts)return new Promise((function(n,r){try{t.importScripts(e)}catch(i){return void r(i||new Error("failed to load ".concat(e)))}n()}));throw new Error("cannot figure out how to load external JS scripts in this environment")}},{key:"loadCJSPlugin",value:function(){var e=(0,o.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.cjsUrl,e.prev=1,r=new URL(n,L().location.href),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error(e.t0),new Error("Error parsing URL: ".concat(n));case 9:if("http:"===r.protocol||"https:"===r.protocol){e.next=11;break}throw new Error('Cannot load plugins using protocol "'.concat(r.protocol,'"'));case 11:if(this.fetchCJS){e.next=13;break}throw new Error("No fetchCJS callback provided");case 13:return e.abrupt("return",this.fetchCJS(r.href));case 14:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadESMPlugin",value:function(){var e=(0,o.Z)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new URL(t.esmUrl,L().location.href),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.error(e.t0),new Error("Error parsing URL: ".concat(t.esmUrl));case 8:if("http:"===r.protocol||"https:"===r.protocol){e.next=10;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 10:return e.next=12,null===(n=this.fetchESM)||void 0===n?void 0:n.call(this,r.href);case 12:if(i=e.sent){e.next=15;break}throw new Error("Could not load ESM plugin: ".concat(r));case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadUMDPlugin",value:function(){var e=(0,o.Z)(u().mark((function e(t){var n,r,i,o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="url"in t?t.url:t.umdUrl,e.prev=1,r=new URL(n,L().location.href),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error(e.t0),new Error("Error parsing URL: ".concat(n));case 9:if("http:"===r.protocol||"https:"===r.protocol){e.next=11;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 11:return e.next=13,this.loadScript(r.href);case 13:if(i=t.name,o="JBrowsePlugin".concat(i),a=L(),s=a[o]){e.next=19;break}throw new Error("Failed to load UMD bundle for ".concat(i,", ").concat(a.constructor.name,".").concat(o," is undefined"));case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPlugin",value:function(){var e=(0,o.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.isElectron||!B(t)){e.next=6;break}return e.next=3,this.loadCJSPlugin(t);case 3:case 9:case 15:n=e.sent,e.next=23;break;case 6:if(void 0===t.esmUrl){e.next=12;break}return e.next=9,this.loadESMPlugin(t);case 12:if(!F(t)){e.next=18;break}return e.next=15,this.loadUMDPlugin(t);case 18:if(N.isElectron||!B(t)){e.next=22;break}throw new Error("Only CommonJS plugin found, but not in a NodeJS environment: ".concat(JSON.stringify(t)));case 22:throw new Error("Could not determine plugin type: ".concat(JSON.stringify(t)));case 23:return e.abrupt("return",n.default);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"installGlobalReExports",value:function(e){e.JBrowseExports=Object.fromEntries(Object.entries(S.Z).map((function(e){var t=(0,d.Z)(e,2);return[t[0],t[1]]})))}},{key:"load",value:function(){var e=(0,o.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(this.definitions.map(function(){var e=(0,o.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadPlugin(n);case 2:return e.t0=e.sent,e.t1=n,e.abrupt("return",{plugin:e.t0,definition:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H=n(26794),J=n(47672),U=n(39600),W=n(18549),_=n(35681),V=n(5634),G=n(26742),$=n(45754),K=n(86906),Y=n(30969),X=n(46891),Q=n(63824),ee=n(18287),te=n(27971),ne=n(20120),re=(0,Y.lazy)((function(){return n.e(9393).then(n.bind(n,19393))})),ie=(0,Y.lazy)((function(){return n.e(2439).then(n.bind(n,72439))})),oe=function(e){(0,$.Z)(r,e);var t=(0,K.Z)(r);function r(){var e;(0,f.Z)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).name="DataManagementPlugin",e.exports={AssemblyManager:ie,SetDefaultSession:re},e}return(0,p.Z)(r,[{key:"install",value:function(e){e.addConnectionType((function(){return new w.Z({name:"UCSCTrackHubConnection",configSchema:X.j,stateModel:(0,X.u)(e),displayName:"UCSC Track Hub",description:"A track or assembly hub in the Track Hub format",url:"//genome.ucsc.edu/goldenPath/help/hgTrackHubHelp.html#Intro"})})),e.addWidgetType((function(){return new x.Z({name:"HierarchicalTrackSelectorWidget",heading:"Available tracks",configSchema:te.j,stateModel:(0,te.e)(e),ReactComponent:(0,Y.lazy)((function(){return Promise.all([n.e(9815),n.e(2790)]).then(n.bind(n,92790))}))})})),e.addWidgetType((function(){return new x.Z({name:"AddTrackWidget",heading:"Add a track",configSchema:Q.j,stateModel:(0,Q.e)(e),ReactComponent:(0,Y.lazy)((function(){return n.e(8752).then(n.bind(n,58752))}))})})),e.addWidgetType((function(){return new x.Z({name:"AddConnectionWidget",heading:"Add a connection",configSchema:ee.j,stateModel:ee.e,ReactComponent:(0,Y.lazy)((function(){return n.e(7412).then(n.bind(n,17412))}))})})),e.addWidgetType((function(){return new x.Z({name:"PluginStoreWidget",heading:"Plugin store",configSchema:ne.jS,stateModel:(0,ne.e$)(e),ReactComponent:(0,Y.lazy)((function(){return Promise.resolve().then(n.bind(n,72365))}))})}))}},{key:"configure",value:function(e){}}]),r}(T.Z),ae=n(62667),ue=n(81919),se=n(8512),ce=n(1945),le=n(34394),de=n(72584),fe=n(87146),pe=n(2290),he=n(49934),ve=n(47059),me=n(17816),ge=n(52044),ye=n(29145),be=n(24511),xe=n(92854),we=n(30852),Ze=n(63328),ke=n(74307),je=n(42123),Ce=n(73212),Te=[ge.ZP,le.ZP,H.Z,J.Z,U.Z,_.ZP,V.ZP,oe,ae.Z,ue.Z,se.Z,ce.Z,de.Z,fe.Z,pe.Z,he.Z,ve.Z,me.Z,ye.Z,be.Z,xe.ZP,we.Z,Ze.Z,W.Z,ke.Z,je.Z,Ce.Z,G.Z];function Se(){var e=new Promise((function(e){self.onmessage=function(t){e(t.data),self.onmessage=function(){}}}));return postMessage("readyForConfig"),e}function Me(){return(Me=(0,o.Z)(u().mark((function e(){var t,n,i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=2;break}return e.abrupt("return",D);case 2:return e.next=4,Se();case 4:return t=e.sent,(n=new q(t.plugins,{fetchESM:function(e){return import(e)}})).installGlobalReExports(self),e.next=9,n.load();case 9:return i=e.sent,o=[].concat((0,r.Z)(Te.map((function(e){return{plugin:e}}))),(0,r.Z)(i)),(a=new I(o.map((function(e){return new e.plugin})))).createPluggableElements(),a.configure(),D=a,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.Ot)(!0),function(){return Me.apply(this,arguments)}().then((function(e){var t=Object.fromEntries(e.getElementTypesInGroup("rpc method").map((function(e){var t,n=e,r=n.execute;return[n.name,(t=r.bind(e),function(e){var n=e.channel,r=e.rpcDriverClassName;return t((0,i.Z)((0,i.Z)({},e),{},{statusCallback:function(e){self.rpcServer.emit(n,e)}}),r)})]})));self.rpcServer=new s.Z.Server((0,i.Z)((0,i.Z)((0,i.Z)({},t),(0,R.pm)()),{},{ping:function(){}})),postMessage("ready")})).catch((function(e){self.rpcServer=new s.Z.Server({ping:function(){throw e}})}))},80045:function(){self.window={addEventListener:function(){},fetch:self.fetch.bind(self),location:self.location,Date:self.Date,requestIdleCallback:function(e){return e()},cancelIdleCallback:function(){},requestAnimationFrame:function(e){return e()},cancelAnimationFrame:function(){},navigator:{}},self.document={createTextNode:function(){},querySelector:function(){return{appendChild:function(){}}},documentElement:{},createElement:function(){return{style:{},setAttribute:function(){},removeAttribute:function(){},appendChild:function(){}}}}},31158:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.x=function(){var e=n.O(void 0,[1852,4736,2947],(function(){return n(83827)}));return e=n.O(e)},function(){var e=[];n.O=function(t,r,i,o){if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],o=e[l][2];for(var u=!0,s=0;s<r.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(u=!1,o<a&&(a=o));if(u){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o]}}(),n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{354:"282bda17",847:"27b81a72",933:"79ccde1f",1025:"cbc9c7c7",1032:"239c4c6c",1093:"219fb56c",1195:"35ade7f1",1462:"a1740b37",1510:"c950a0bf",1754:"3814b739",1852:"64ec0274",2092:"1b0f2457",2094:"c483c83f",2439:"244ef577",2533:"0d2e2530",2687:"e4978752",2734:"33f348d8",2745:"72f2ec99",2790:"bb5a0edc",2796:"1092ab6a",2809:"340f10af",2821:"ddb7d572",2947:"ea6397ce",3134:"86beea5c",3242:"768a3b72",3420:"5642d8b8",3576:"b2146cf7",3653:"0ed7d197",3787:"443e51e9",4061:"70b9f765",4119:"fd4ec17b",4285:"18c20b79",4493:"1acb7fcc",4526:"9e55b9f7",4594:"f5667dbc",4637:"264f6c92",4736:"c6010c70",4794:"dbe4dca4",5046:"27c4d1f0",5058:"05d6cf4f",5098:"a3f8ab78",5304:"c9588514",5375:"e4ea6538",5486:"83352493",5758:"13dda43b",5997:"8228038d",6082:"3de867c9",6161:"2767b87a",6189:"2a7513b2",6254:"85243314",6319:"f48804e8",6362:"fc534ee2",6524:"cac9d4a5",6618:"546431f1",6824:"6d187d0d",6849:"93818f10",6925:"cf4f0829",7028:"0e541df6",7040:"60514aaf",7207:"df263841",7214:"c44e75c1",7281:"bb69fe9a",7412:"bf4bd7ef",7431:"eecbf15e",7582:"7d4e71c9",7751:"19dcc251",7904:"00a3d558",8012:"236c4104",8017:"fe10cd90",8113:"fcab1bdf",8118:"b7799144",8613:"818f2f12",8752:"b9ba729f",8873:"8653c6f5",8930:"357a4852",8935:"1680a105",9135:"10915f7b",9145:"f7c2ee52",9202:"5c437d5c",9342:"860c76ee",9393:"e46531dc",9815:"90ffc9f0",9915:"6578566b"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../../"}(),function(){var e={2541:1};n.f.i=function(t,r){e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunk_jbrowse_web=self.webpackChunk_jbrowse_web||[],r=t.push.bind(t);t.push=function(t){var i=t[0],o=t[1],a=t[2];for(var u in o)n.o(o,u)&&(n.m[u]=o[u]);for(a&&a(n);i.length;)e[i.pop()]=1;r(t)}}(),function(){var e=n.x;n.x=function(){return Promise.all([1852,4736,2947].map(n.e,n)).then(e)}}();n.x()}();
//# sourceMappingURL=2541.bd0527e5.chunk.js.map